/*!
 * jQuery FFT Plugin v1.0.0
 * This code is javascript converted version of following VBA source:
 * Tetsuya Kawamura 川村 哲也, エンジニアのためのExcelナビシリーズ 数値計算入門, page 194, (2012)
 * ISBN 987-4-9011092-81-4 
 * 
 * Copyright 2017 Hideto Manjo
 * Released under the MIT license
 */
if(typeof(window.FFT)=="undefined"){var FFT=function(){if(window==this){return new FFT();
}this.init.apply(this,arguments);return this;};FFT.VERSION="1.0";FFT.prototype.init=function init(){};FFT.prototype.dim=function dim(b,a){var c=b.length;
while(true){if(!(c&(c-1))){break;}c=c+1;b.push(0);a.push(0);}return c;};FFT.prototype.amplitude=function amplitude(c,b){var f=this.dim(c,b);var a=f/2;var d=[];
for(var e=0;e<a;e=e+1){d.push(Math.sqrt(c[e]*c[e]+b[e]*b[e]));}return d;};FFT.prototype.power=function power(c,b){var f=this.dim(c,b);var a=f/2;var e=[];
for(var d=0;d<a;d=d+1){e.push(c[d]*c[d]+b[d]*b[d]);}return e;};FFT.prototype.phase=function phase(c,b){var f=this.dim(c,b);var a=f/2;var e=[];for(var d=0;
d<a;d=d+1){e.push(Math.atan2(b[d],c[d]));}return e;};FFT.prototype.frequencies=function frequencies(f,c,b){var g=this.dim(c,b);var a=g/2;var e=[];for(var d=0;
d<a;d=d+1){e.push(f*(d)/g);}return e;};FFT.prototype.periods=function periods(e,c,b){var g=this.dim(c,b);var a=g/2;var f=[];for(var d=0;d<a;d=d+1){f.push(g/(e*(d)));
}return f;};FFT.prototype.calc=function calc(h,z,w){var B;var e;var c;var b;var n;var g;var p;var o;var q;var f;var r;var x;var u;var t;var s;var y;var v;
var a;var d;N=this.dim(z,w);INDEX=Math.log2(N);DX=1/N;var A=3.14159265358979;B=2*A/N;r=N;for(s=0;s<INDEX;s=s+1){e=0;a=r;r=r/2;for(t=0;t<r;t=t+1){d=t-a;
q=Math.cos(e);f=-h*Math.sin(e);e=e+B;for(u=a;u<N+1;u=u+a){y=u+d;v=y+r;c=z[y];b=z[v];n=w[y];g=w[v];z[y]=c+b;w[y]=n+g;z[v]=(c-b)*q+(n-g)*f;w[v]=(n-g)*q-(c-b)*f;
}}B=2*B;}u=0;for(x=0;x<N-1;x=x+1){if(x<u){p=z[u];o=w[u];z[u]=z[x];w[u]=w[x];z[x]=p;w[x]=o;}t=N/2;while(true){if(t>u){break;}u=u-t;t=t/2;}u=u+t;}if(h<0){for(x=0;
x<N;x=x+1){z[x]=DX*z[x];w[x]=DX*w[x];}}return[z,w];};}