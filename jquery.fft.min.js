/*!
 * jQuery FFT Plugin v1.0.1
 * This code is javascript converted version of following VBA source:
 * Tetsuya Kawamura 川村 哲也, エンジニアのためのExcelナビシリーズ 数値計算入門, page 194, (2012)
 * ISBN 987-4-9011092-81-4 
 * 
 * Copyright 2017 Hideto Manjo
 * Released under the MIT license
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(b);
}else{if(typeof exports==="object"){module.exports=b();}else{a.FFT=b();}}}(this,function(){var c=function(k){this.settings=k||{samplingrate:1};};c.prototype.dim=function f(l,k){var m=l.length;
while(true){if(!(m&(m-1))){break;}m=m+1;l.push(0);k.push(0);}return m;};c.prototype._forloop=function i(o,p){var k=o/2;var l=[];for(var n=0;n<k;n=n+1){l.push(p.call(null,n));
}return l;};c.prototype._convertTo=function g(u,q,p,t){var k=t||this.settings.samplingrate;var r;switch(u){case"amplitude":r=function n(v){return Math.sqrt(q[v]*q[v]+p[v]*p[v]);
};break;case"power":r=function s(v){return q[v]*q[v]+p[v]*p[v];};break;case"phase":r=function m(v){return Math.atan2(p[v],q[v]);};break;case"frequencies":r=function l(v){return k*(v)/N;
};break;case"periods":r=function o(v){return N/(k*(v));};}return this._forloop(this.dim(q,p),function(v){return r.call(null,v);});};c.prototype.amplitude=function b(l,k){return this._convertTo("amplitude",l,k,1);
};c.prototype.power=function a(l,k){return this._convertTo("power",l,k,1);};c.prototype.phase=function j(l,k){return this._convertTo("phase",l,k,1);};c.prototype.frequencies=function d(l,k,m){return this._convertTo("frequencies",l,k,m);
};c.prototype.periods=function h(l,k,m){return this._convertTo("periods",l,k,m);};c.prototype.calc=function e(u,I,F){var K,r,p,o,v,t,x,w,y,s;var z,G,D,B,A,H,E,n,q;
N=this.dim(I,F);INDEX=Math.log2(N);DX=1/N;var J=3.14159265358979;K=2*J/N;z=N;for(A=0;A<INDEX;A=A+1){r=0;n=z;z=z/2;for(B=0;B<z;B=B+1){q=B-n;y=Math.cos(r);
s=-u*Math.sin(r);r=r+K;for(D=n;D<N+1;D=D+n){H=D+q;E=H+z;p=I[H];o=I[E];v=F[H];t=F[E];I[H]=p+o;F[H]=v+t;I[E]=(p-o)*y+(v-t)*s;F[E]=(v-t)*y-(p-o)*s;}}K=2*K;
}D=0;for(G=0;G<N-1;G=G+1){if(G<D){x=I[D];w=F[D];I[D]=I[G];F[D]=F[G];I[G]=x;F[G]=w;}B=N/2;while(true){if(B>D){break;}D=D-B;B=B/2;}D=D+B;}if(u<0){for(G=0;
G<N;G=G+1){I[G]=DX*I[G];F[G]=DX*F[G];}}return[I,F];};return c;}));